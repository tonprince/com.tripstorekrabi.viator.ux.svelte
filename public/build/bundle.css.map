{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "../../Editor.svelte",
    "../../Map.svelte",
    "../../UI.svelte",
    "../../UX.svelte"
  ],
  "sourcesContent": [
    "<script>\n  import { onMount, onDestroy } from \"svelte\";\n  import {\n    f7,\n    Page,\n    Link,\n    List,\n    ListInput,\n    ListItem,\n    Block,\n    Button,\n    Toolbar,\n    Sheet,\n    Searchbar,\n    Preloader\n  } from \"framework7-svelte\";\n  import { default as NavToolbar } from \"./Toolbar.svelte\";\n  import { createTour, STANDARD_TOUR } from \"./stores.js\";\n  import {\n    getJSONWithExpiry,\n    setJSONWithExpiry,\n    MONTH_IN_MILLIS\n  } from \"./ExpiryStorage.js\";\n  import {\n    suggestAttractions,\n    getAttractionDetails\n  } from \"./AttractionService.js\";\n\n  let tour = createTour();\n  $: itineraries = $tour.itineraries;\n  let loading = false;\n  let attractions = null;\n  let selectedItinerary = null;\n  let searchbarComponent;\n\n  f7.on(\"sortableSort\", function(item, data) {\n    let newItineraries = arrayMove(itineraries, data.from, data.to);\n    $tour.itineraries = newItineraries;\n  });\n\n  function arrayMove(arr, old_index, new_index) {\n    if (new_index >= arr.length) {\n      var k = new_index - arr.length + 1;\n      while (k--) {\n        arr.push(undefined);\n      }\n    }\n    arr.splice(new_index, 0, arr.splice(old_index, 1)[0]);\n    return arr;\n  }\n\n  onMount(async () => {\n    let timeout;\n    searchbarComponent.instance().on(\"search\", function(searchbar) {\n      let query = searchbar.query.trim();\n      if (query.length === 0) {\n        attractions = [];\n        return;\n      }\n\n      if (timeout) {\n        clearInterval(timeout);\n      }\n      loading = true;\n\n      timeout = setTimeout(function() {\n        suggestAttractions(query.trim()).then(function(result) {\n          loading = false;\n          attractions = result;\n        });\n      }, 400);\n    });\n  });\n\n  let itinerarySheet;\n  function openItinerarySheet() {\n    if (!itinerarySheet) {\n      itinerarySheet = f7.sheet.create({ el: \".itinerarySheet\" });\n    }\n    itinerarySheet.open();\n  }\n\n  let attractionSheet;\n  function openAttractionSheet() {\n    if (!attractionSheet) {\n      attractionSheet = f7.sheet.create({ el: \".attractionSheet\" });\n    }\n    attractionSheet.open();\n  }\n\n  function onPageBeforeOut() {\n    if (itinerarySheet) {\n      itinerarySheet.close();\n    }\n    if (attractionSheet) {\n      attractionSheet.close();\n    }\n  }\n\n  function onPageBeforeRemove() {\n    if (itinerarySheet) {\n      itinerarySheet.destroy();\n    }\n    if (attractionSheet) {\n      attractionSheet.destroy();\n    }\n  }\n\n  function saveItinerary(itinerary) {\n    if (itineraries.indexOf(itinerary) === -1) {\n      itineraries.push(itinerary);\n      $tour.itineraries = itineraries;\n    }\n    tour.set($tour);\n  }\n</script>\n\n<style>\n  :global(.md .item-input .item-media) {\n    align-self: center;\n  }\n</style>\n\n<Page {onPageBeforeOut} {onPageBeforeRemove}>\n  <div class=\"page-content\">\n    <div style=\"margin: auto; height: 100%; max-width: 1000px; padding: 20px\">\n      <h1>Itinerary Editor</h1>\n\n      {#if itineraries.length == 0}\n        <div>No itinerary items added yet.</div>\n      {:else}\n        <List\n          sortable={true}\n          class=\"sortable-enabled\"\n          data-sortable-move-elements=\"false\">\n          {#each itineraries as itinerary}\n            <ListItem>\n              <div slot=\"title\">\n                <Link\n                  style=\"font-weight: bold\"\n                  on:click={function() {\n                    selectedItinerary = itinerary;\n                    openItinerarySheet();\n                  }}>\n                  {itinerary.schedule + ': ' + itinerary.title}\n                </Link>\n              </div>\n\n              <div slot=\"after\">\n                {#if itinerary.attraction}\n                  <Button\n                    round\n                    outline\n                    small\n                    style=\"color: rgb(24, 107, 109); border-color: rgb(24, 107,\n                    109); font-weight: bold; margin-right: 10px\"\n                    on:click={function() {\n                      selectedItinerary = itinerary;\n                      openAttractionSheet();\n                      searchbarComponent\n                        .instance()\n                        .search(selectedItinerary.attraction.title);\n                    }}>\n                    {itinerary.attraction.title}\n                  </Button>\n                {/if}\n              </div>\n              <div slot=\"after\">\n                <div style=\"display: flex\">\n                  <Button\n                    fill\n                    small\n                    style=\"background-color: rgb(24, 107, 109);\"\n                    on:click={function() {\n                      selectedItinerary = itinerary;\n                      openItinerarySheet();\n                    }}>\n                    <span title=\"Change attraction\" class=\"icon icon-pencil\" />\n                  </Button>\n\n                  <Button\n                    style=\"margin-left: 8px\"\n                    fill\n                    small\n                    color=\"red\"\n                    on:click={function() {\n                      f7.dialog.confirm(\n                        'Are you sure you want to remove this item?',\n                        'Remove Itinerary Item',\n                        () => {\n                          let newItineraries = itineraries.filter(\n                            item => item !== itinerary\n                          );\n                          $tour.itineraries = newItineraries;\n                          tour.set($tour);\n                        }\n                      );\n                    }}>\n                    <span title=\"Remove attraction\" class=\"icon icon-cross\" />\n                  </Button>\n                </div>\n              </div>\n              <span\n                class=\"icon icon-circle\"\n                slot=\"media\"\n                style=\"color: rgb(24, 107, 109);\" />\n            </ListItem>\n          {/each}\n        </List>\n      {/if}\n      <div\n        style=\"color: hsl(181, 64%, 26%); text-align: center; margin-top: 80px;\n        margin-bottom: 80px\">\n        <div class=\"\">\n          Â© Trip Store Krabi Co., Ltd. 2020. All Rights Reserved.\n          <br />\n          <a\n            class=\"link underline external\"\n            href=\"mailto:info@tripstorekrabi.com\">\n            Contact Us\n          </a>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <Sheet class=\"itinerarySheet\" style=\"height: 100%; z-index: 12000\">\n    <Toolbar>\n      <div class=\"left\" />\n      <div class=\"right\">\n        <Link\n          on:click={function() {\n            itinerarySheet.close();\n          }}>\n          Close\n        </Link>\n      </div>\n    </Toolbar>\n\n    <Block>\n      <h1>Edit Itinerary Item</h1>\n\n      {#if selectedItinerary}\n        <List mediaList style=\"margin-top: 0px\">\n          <ListInput\n            label=\"Schedule\"\n            type=\"text\"\n            placeholder=\"Enter the schedule\"\n            clearButton\n            required\n            validate\n            errorMessage=\"Enter a schedule\"\n            value={selectedItinerary.schedule}\n            onChange={function(e) {\n              let value = e.target.value;\n              if (value.length > 0) {\n                selectedItinerary.schedule = value;\n                saveItinerary(selectedItinerary);\n              }\n            }}>\n            <div slot=\"media\">\n              <span class=\"icon icon-clock\" />\n            </div>\n          </ListInput>\n\n          <ListInput\n            label=\"Title\"\n            type=\"text\"\n            placeholder=\"Enter a short description of the itinerary item\"\n            clearButton\n            required\n            validate\n            errorMessage=\"Enter a description\"\n            value={selectedItinerary.title}\n            onChange={function(e) {\n              let value = e.target.value;\n              if (value.length > 0) {\n                selectedItinerary.title = value;\n                saveItinerary(selectedItinerary);\n              }\n            }}>\n            <div slot=\"media\">\n              <span class=\"icon icon-file-text\" />\n            </div>\n          </ListInput>\n\n          <ListItem header=\"Attraction\">\n            <div slot=\"media\">\n              <span class=\"icon icon-location\" />\n            </div>\n            <div slot=\"title\">\n              {#if selectedItinerary.attraction}\n                <Link\n                  external\n                  target=\"_new\"\n                  href={selectedItinerary.attraction.url}>\n                  {selectedItinerary.attraction.title}\n                </Link>\n              {:else}No attraction linked{/if}\n            </div>\n            <div style=\"display: flex\" slot=\"after\">\n              <Button\n                style=\"background-color: rgb(24, 107, 109)\"\n                fill\n                small\n                round\n                on:click={function() {\n                  openAttractionSheet();\n                  if (selectedItinerary.attraction) {\n                    searchbarComponent\n                      .instance()\n                      .search(selectedItinerary.attraction.title);\n                  }\n                }}>\n                {@html (selectedItinerary.attraction ? 'Change' : 'Link') + \"<span style='font-size: 1rem; font-weight: bold; margin-left: 4px; vertical-align: sub' class='icon icon-link'></span>\"}\n              </Button>\n            </div>\n          </ListItem>\n        </List>\n      {/if}\n    </Block>\n  </Sheet>\n\n  <Sheet class=\"attractionSheet\" style=\"height: 100%; z-index: 12001\">\n    <Toolbar>\n      <div class=\"left\" />\n      <div class=\"right\">\n        <Link\n          on:click={function() {\n            attractionSheet.close();\n          }}>\n          Close\n        </Link>\n      </div>\n    </Toolbar>\n    <Block>\n      <h1>\n        {selectedItinerary && selectedItinerary.attraction ? 'Change' : 'Link'}\n        Attraction\n      </h1>\n      <Toolbar>\n        <Searchbar\n          placeholder=\"Search for attraction and places in Tripadvisor\"\n          id=\"searchbar\"\n          searchContainer=\".search-list\"\n          disableButton={false}\n          clearButton={false}\n          customSearch={true}\n          value={selectedItinerary && selectedItinerary.attraction ? selectedItinerary.attraction.title : ''}\n          bind:this={searchbarComponent} />\n      </Toolbar>\n\n      {#if loading}\n        <div\n          style=\"align-items: center; display: flex; justify-content: center;\n          flex-direction: column; height: 100%;\">\n          <Preloader />\n        </div>\n      {:else}\n        <List class=\"search-list\" style=\"margin-top: 0px\">\n          {#if attractions}\n            {#if attractions.length == 0}\n              <ListItem title=\"No attractions found\" />\n            {:else}\n              {#each attractions as item}\n                <ListItem>\n                  <div slot=\"title\">\n                    {item.description}\n                    <Link\n                      title=\"Open attraction\"\n                      icon=\"icon icon-external-link\"\n                      external\n                      style=\"margin-left: 6px\"\n                      on:click={function() {\n                        getAttractionDetails(item.providerReference).then(\n                          function(details) {\n                            window.open(details.url);\n                          }\n                        );\n                      }} />\n                  </div>\n                  <span class=\"icon icon-location\" slot=\"media\" />\n                  <div slot=\"after\">\n                    <Button\n                      fill\n                      small\n                      round\n                      style=\"background-color: rgb(24, 107, 109)\"\n                      on:click={function() {\n                        getAttractionDetails(item.providerReference).then(\n                          function(details) {\n                            let attraction = selectedItinerary.attraction;\n                            if (!attraction) {\n                              attraction = {};\n                              selectedItinerary.attraction = attraction;\n                            }\n                            attraction.title = item.description.split(',')[0];\n                            attraction.url = details.url;\n                            if (details.location) {\n                              attraction.location = details.location;\n                            }\n                            selectedItinerary = selectedItinerary;\n                            tour.set($tour);\n                            attractionSheet.close();\n                          }\n                        );\n                      }}>\n                      Choose\n                      <span\n                        style=\"font-size: 1.0rem; margin-left: 1px; font-weight:\n                        bold; vertical-align: sub\"\n                        class=\"icon icon-choose\" />\n                    </Button>\n                  </div>\n                </ListItem>\n              {/each}\n            {/if}\n          {/if}\n        </List>\n      {/if}\n    </Block>\n  </Sheet>\n\n  <NavToolbar active=\"/Editor\" />\n  <Toolbar style=\"font-size: 0.7rem\" tabbar labels position=\"bottom\">\n    <Link\n      text=\"Add Item\"\n      style=\"color: rgb(24, 107, 109);\"\n      icon=\"icon icon-plus\"\n      on:click={function() {\n        selectedItinerary = { title: '', schedule: '' };\n        openItinerarySheet();\n      }} />\n    <Link\n      text=\"Show UI\"\n      style=\"color: rgb(24, 107, 109);\"\n      icon=\"icon icon-lightbulb\"\n      href=\"/New-UI/itinerary\" />\n    <Link\n      text=\"Reset Itinerary\"\n      style=\"color: red\"\n      icon=\"icon icon-reload\"\n      on:click={function() {\n        f7.dialog.confirm(\n          'Are you sure you want to reset the itinerary to the default value?',\n          'Reset Itinerary',\n          () => {\n            itineraries = JSON.parse(JSON.stringify(STANDARD_TOUR)).itineraries;\n            $tour.itineraries = itineraries;\n            tour.set($tour);\n          }\n        );\n      }} />\n  </Toolbar>\n</Page>\n",
    "<script>\n  import { onMount } from \"svelte\";\n  import { f7 } from \"framework7-svelte\";\n  import { map } from \"./stores.js\";\n  import { initMapService } from \"./MapService.js\";\n  import GeoControl from \"./GeoControl.js\";\n\n  let container;\n  let zoom = 16;\n  let myLocationMarker;\n  let mapUnsubscribe;\n\n  onMount(async () => {\n    initMapService(() => showMap());\n  });\n\n  function showMap() {\n    map.set(\n      new google.maps.Map(container, {\n        zoom,\n        gestureHandling: \"cooperative\"\n      })\n    );\n\n    var icon = {\n      url: \"/myLocation.png\",\n      scaledSize: new google.maps.Size(50, 50),\n      origin: new google.maps.Point(0, 0),\n      anchor: new google.maps.Point(25, 25)\n    };\n\n    myLocationMarker = new google.maps.Marker({\n      map: $map,\n      draggable: false,\n      icon: icon,\n      zIndex: 0\n    });\n\n    let geoControlDiv = document.createElement(\"div\");\n    geoControlDiv.index = 1;\n\n    let findYourLocationCallback = function(pos) {\n      if (pos) {\n        let latLng = new google.maps.LatLng({\n          lat: pos.lat,\n          lng: pos.lng\n        });\n        myLocationMarker.setPosition(latLng);\n        $map.panTo({\n          lat: pos.lat,\n          lng: pos.lng\n        });\n        markerMoved(latLng);\n      }\n    };\n\n    var geoControl = new GeoControl(geoControlDiv, $map);\n    geoControl.addClickListener(findYourLocationCallback);\n    $map.controls[google.maps.ControlPosition.RIGHT_BOTTOM].push(geoControlDiv);\n  }\n</script>\n\n<style>\n  .full-screen {\n    width: 100%;\n    height: 100%;\n  }\n</style>\n\n<div class=\"full-screen\" bind:this={container} />\n",
    "<script>\n  import { onMount, onDestroy } from \"svelte\";\n  import { Page, Link, Toolbar, Button, Preloader } from \"framework7-svelte\";\n  import introJs from \"intro.js\";\n  import { createTour, map } from \"./stores.js\";\n  import { default as NavToolbar } from \"./Toolbar.svelte\";\n  import Map from \"./Map.svelte\";\n\n  export let f7route;\n  let scrollTo = f7route.params.scrollTo;\n  let tour = createTour();\n  let heroImage;\n\n  let attractions = [\n    ...$tour.itineraries\n      .filter(function(itinerary) {\n        return itinerary.attraction;\n      })\n      .map(function(itinerary) {\n        return itinerary.attraction;\n      }),\n    ...$tour.attractions\n  ];\n  let center = attractions[0].location;\n  let smartLinkIntroAdded = false;\n  let mapUnsubscribe;\n\n  onMount(async () => {\n    heroImage.onload = () => {\n      if (scrollTo) {\n        let node = document.getElementById(scrollTo);\n        if (node) {\n          node.scrollIntoView({\n            behavior: \"smooth\"\n          });\n        }\n      }\n    };\n\n    mapUnsubscribe = map.subscribe(function(map) {\n      if (map) {\n        let bounds = new google.maps.LatLngBounds();\n        let infoWindow = new google.maps.InfoWindow();\n        attractions.forEach(function(attraction) {\n          if (attraction.location) {\n            bounds.extend(\n              new google.maps.LatLng({\n                lat: attraction.location.lat,\n                lng: attraction.location.lng\n              })\n            );\n            let marker = new google.maps.Marker({\n              position: attraction.location,\n              map: map,\n              title: attraction.title\n            });\n\n            marker.addListener(\"click\", function(event) {\n              infoWindow.setContent(\n                \"<a target='_new' class='external' href='\" +\n                  attraction.url +\n                  \"'>\" +\n                  attraction.title +\n                  \"</a>\"\n              );\n              infoWindow.open(map, marker);\n            });\n          }\n        });\n\n        map.fitBounds(bounds);\n      }\n    });\n  });\n\n  onDestroy(async () => {\n    mapUnsubscribe();\n  });\n\n  function injectSmartLinks(text, attractions) {\n    attractions.forEach(function(attraction) {\n      let regexp = new RegExp(\n        \"(w*\" + attraction.title + \"w*)(?=S*['â])?([a-zA-Z'â]+)?\",\n        \"gmi\"\n      );\n      function replacer(match, p1, p2, p3, offset, string) {\n        let dataIntro = !smartLinkIntroAdded\n          ? \"data-intro='Insert smart links for occurrences of Tripadvisor attractions & places into the tour summary and description.'\"\n          : \"\";\n        smartLinkIntroAdded = true;\n        return (\n          \"<a class='external' \" +\n          dataIntro +\n          \" href='\" +\n          attraction.url +\n          \"' target='_blank'>\" +\n          match +\n          \"</a>\"\n        );\n      }\n      text = text.replace(regexp, replacer);\n    });\n\n    return text;\n  }\n</script>\n\n<style>\n  .hero {\n    margin-top: 20px;\n    margin-bottom: 10px;\n    max-width: 100%;\n  }\n\n  ul {\n    padding-left: 15px;\n    list-style: none;\n  }\n\n  ul li {\n    color: #606060;\n  }\n\n  ul.highlights li {\n    font-weight: 600;\n    color: #606060;\n    line-height: 1.8em;\n  }\n\n  .timeline {\n    position: relative;\n    width: 100%;\n    padding-right: 0px;\n  }\n\n  .timeline::before {\n    content: \"\";\n    position: absolute;\n    height: 100%;\n    left: 150px;\n    border-left: 2px dotted hsl(181, 64%, 26%);\n  }\n\n  .timeline ul {\n    padding: 0px;\n  }\n\n  .timeline ul li {\n    list-style-type: none;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n  }\n\n  .timeline ul li:first-child .point,\n  .timeline ul li:last-child .point {\n    border: 4px solid hsl(181, 64%, 26%);\n    background-color: white;\n  }\n\n  .point {\n    border: 4px solid transparent;\n    min-width: 16px;\n    height: 16px;\n    margin-left: 123px;\n    background-color: hsl(181, 64%, 26%);\n    border-radius: 100%;\n    z-index: 2;\n    position: relative;\n  }\n\n  .timeline ul li .content {\n    width: 100%;\n    padding: 0px 20px 20px 20px;\n    padding-right: 0px;\n  }\n\n  .timeline ul li .date {\n    font-weight: normal;\n    position: absolute;\n  }\n\n  .timeline ul li .date span {\n    color: hsl(181, 64%, 26%);\n    background-color: hsla(181, 64%, 26%, 0.103);\n    width: 100px;\n    padding: 5px 10px;\n    margin-right: 20px;\n    border-radius: 10px;\n    font-weight: bold;\n  }\n\n  .timeline ul li .content .title {\n    padding-top: 5px;\n    padding-bottom: 5px;\n    padding-left: 15px;\n    padding-right: 15px;\n    color: white;\n    background-color: hsla(181.4, 63.9%, 26.1%, 0.86);\n    margin-bottom: 0;\n    border-top-left-radius: 10px;\n    border-top-right-radius: 10px;\n  }\n\n  .timeline ul li .content h3.noAttraction {\n    border-bottom-left-radius: 10px;\n    border-bottom-right-radius: 10px;\n  }\n\n  .timeline ul li .content div.attraction {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding-top: 5px;\n    padding-bottom: 5px;\n    padding-left: 15px;\n    padding-right: 15px;\n    color: hsl(181, 64%, 26%);\n    background-color: hsla(181, 64%, 26%, 0.103);\n    margin-top: 0;\n    border-bottom-left-radius: 10px;\n    border-bottom-right-radius: 10px;\n  }\n\n  .description {\n    text-align: justify;\n  }\n</style>\n\n<Page>\n  <div class=\"page-content\">\n    <div style=\"margin: auto; height: 100%; max-width: 1000px; padding: 20px\">\n      <h1>{$tour.title}</h1>\n      <h2\n        data-intro=\"Allow to define a subtitle which reflects a creative name of\n        the product in contrast to the technical name in the title.\">\n        {$tour.subtitle}\n      </h2>\n      <section>\n        {@html injectSmartLinks($tour.summary, attractions)}\n      </section>\n\n      <img\n        class=\"hero\"\n        alt={tour.title}\n        src=\"https://lh3.googleusercontent.com/f7yM63HIwTGLHBtYOMiNyw_moiRbKnzBC7GtL8O5V1BZUCy4RH54tfiwt8tEP145jxHjuyP5JpKIYNa9NpLBfZBXs1RxWFJVD6kDcNE1h8YeRm9Yz5Qybhel0zbjNwF_Pi-oFNt6xCTumeRTq__NbNSvLGjKqlK354UsOjBPWuD60N656JRqeQUsiZP_CKUdTp5aMjDKUpYIisJAm8a6XraKeH7EdawsGfdciW58u9-DM5ENTBfm2kIqGB3vkOUetwbu1I7YF6bUnoMgnX9r2rC0qZOdhGSIyPCdOKayh725Z1vkyz2CvM6I_IOG1bBWaPZjbITlsdIMCAF8xZu2soVX_s7biu9tAWJPIeMB8EzW0U_DHOH_VbLz2NRV0yYToc9ViFWA3oZXAsVBjboWXumqMXPW9rOoDo25fwGNBNxQFUbHoothk1xnbpij9OiWDN5pM4NYK4POfeaPNc0nwmzd8vAo_fl3lsootLeVILj2XAjGQxgj_njXhOmQMTtchtLUvxvnRwMT0Q8Y4r5eSsOcIfYeMwklDfzTmQv3YOC_EQK1kRIlsJHv79uLzifwJS3zJqO_3og6PTto-G4HeHgyoN8u16vugoEruVEqIUFwnx-dF56gg0y7U7YeLl47Ajb3AUzLKcKdyj60mWHn5lkOA7ZLa1-9P6x64JwcFkJpqGG_1oGnwBv9Fnub1eAUl-tJbU-SKELloTNlv2NZIfmlYU5_fGWV72nOyVN8Uo05sYq7XQ=s1600\"\n        bind:this={heroImage} />\n\n      <section>\n        <h2\n          data-intro=\"Allow a maximum of 5 highlights to be added by the\n          supplier himself because she/he knows best which product features\n          should stand out.\">\n          Highlights\n        </h2>\n        <ul class=\"highlights\">\n          {#each $tour.highlights as highlight}\n            <li>\n              <span style=\"margin-right: 5px\" class=\"icon icon-checkmark\" />\n              {@html injectSmartLinks(highlight, attractions)}\n            </li>\n          {/each}\n        </ul>\n      </section>\n\n      <section>\n        <div\n          style=\"margin-top: 40px; display: flex; align-items: center;\n          justify-content: space-between;\">\n          <h2\n            id=\"itinerary\"\n            style=\"margin-top: 0px; margin-bottom: 0px\"\n            data-intro=\"Allow to define a scheduled itinerary with starting &\n            end times, or an itinerary with durations.\">\n            Scheduled Itinerary\n          </h2>\n          <Button\n            fill\n            round\n            href=\"/Editor\"\n            style=\"background-color: rgb(24, 107, 109)\">\n            Change Itinerary\n            <span\n              style=\"font-weight: bold; margin-left: 2px\"\n              class=\"icon icon-change\" />\n          </Button>\n        </div>\n\n        <div\n          class=\"timeline\"\n          data-intro=\"Display itinerary items with schedule/duration,\n          description and an optional link to the related attraction on\n          Tripadvisor.\">\n          <ul>\n            {#each $tour.itineraries as itinerary, i}\n              <li>\n                <div class=\"date\">\n                  <span>{itinerary.schedule}</span>\n                </div>\n                <div class=\"point\">\n                  <span\n                    style=\"position: absolute;top: 50%;left: 50%;transform:\n                    translate(-50%, -50%); color: {i == $tour.itineraries.length - 1 ? 'hsl(181, 64%, 26%)' : 'white'}\"\n                    class=\"icon icon-circle\" />\n                </div>\n\n                <div class=\"content\">\n                  <h3\n                    class=\"title {itinerary.attraction ? '' : 'noAttraction'}\">\n                    {itinerary.title}\n                  </h3>\n                  {#if itinerary.attraction}\n                    <div class=\"attraction\">\n                      <div>\n                        {i == 0 ? 'Start at:' : i == $tour.itineraries.length - 1 ? 'End at:' : 'Stopover at:'}\n                        <a\n                          class=\"underline external\"\n                          href={itinerary.attraction.url}\n                          target=\"_blank\">\n                          {itinerary.attraction.title}\n                        </a>\n                      </div>\n                      <a\n                        title=\"Show in Tripadvisor\"\n                        class=\"external\"\n                        href={itinerary.attraction.url}\n                        target=\"_blank\">\n                        <div\n                          style=\"font-size: 1.2em\"\n                          class=\"icon icon-location\" />\n                      </a>\n                    </div>\n                  {/if}\n                </div>\n              </li>\n            {/each}\n          </ul>\n        </div>\n      </section>\n\n      <section>\n        <h2>Attractions Map</h2>\n        <div style=\"width: 100%; height: 600px\">\n          <Map />\n        </div>\n      </section>\n\n      <section>\n        <h2>What's Included</h2>\n        <ul class=\"inclusions\">\n          {#each $tour.includes as include}\n            <li style=\"padding: 3px; font-weight: bold\">\n              <span style=\"margin-right: 5px\" class=\"icon icon-plus\" />\n              {@html injectSmartLinks(include, attractions)}\n            </li>\n          {/each}\n        </ul>\n      </section>\n\n      <section>\n        <h2\n          data-intro=\"Allow to add a long product description of up to 2000\n          characters independent of the chosen product type (tour, activity,\n          etc.).\">\n          What To Expect\n        </h2>\n        <div class=\"description\">\n          {@html injectSmartLinks($tour.description, attractions)}\n        </div>\n      </section>\n\n      <section>\n        <h2>Additional Info</h2>\n        <ul class=\"important\">\n          {#each $tour.important as important}\n            <li>\n              <span style=\"margin-right: 5px\" class=\"icon icon-circle\" />\n              {@html injectSmartLinks(important, attractions)}\n            </li>\n          {/each}\n        </ul>\n      </section>\n\n      <div\n        style=\"color: hsl(181, 64%, 26%); text-align: center; margin-top: 80px;\n        margin-bottom: 80px\">\n        <div class=\"\">\n          Â© Trip Store Krabi Co., Ltd. 2020. All Rights Reserved.\n          <br />\n          <a\n            class=\"link underline external\"\n            href=\"mailto:info@tripstorekrabi.com\">\n            Contact Us\n          </a>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <NavToolbar active=\"/New-UI\" />\n\n  <Toolbar style=\"font-size: 0.7rem\" tabbar labels position=\"bottom\">\n    <Link\n      text=\"Show Hints\"\n      style=\"color: red\"\n      icon=\"icon icon-lightbulb\"\n      on:click={function() {\n        introJs().start();\n      }} />\n  </Toolbar>\n</Page>\n",
    "<script>\n  import { Page, BlockTitle, Link, Button } from \"framework7-svelte\";\n  import Toolbar from \"./Toolbar.svelte\";\n</script>\n\n<style>\n  .suggestion {\n    margin-top: 20px;\n    border-radius: var(--f7-button-height);\n    color: white;\n    text-align: center;\n    background-color: hsl(181, 64%, 26%);\n    font-weight: bold;\n    padding: 5px;\n    text-transform: uppercase;\n  }\n\n  .suggestion span.icon,\n  span.icon-solution {\n    font-size: 1.2rem;\n    vertical-align: sub;\n    font-weight: bold;\n    margin-left: 6px;\n  }\n\n  .title {\n    margin-top: 40px;\n    font-size: 1.3rem;\n    font-weight: bold;\n  }\n\n  hr.new {\n    border: 0;\n    border-top: 2px dotted hsl(181, 64%, 26%);\n    margin-top: 50px;\n    margin-bottom: 40px;\n  }\n</style>\n\n<Page>\n  <div>\n    <div style=\"margin: auto; height: 100%; max-width: 1000px; padding: 20px\">\n      <h1>A New Viator UX</h1>\n      <h2>A Step forward for suppliers and users</h2>\n\n      <h3>Why this UX Design Proposal</h3>\n      <p>\n        After almost 10 years of working with Viator and Tripadvisor, we wanted\n        to give you back some important feedbacks from the supplier's point of\n        view. Therefore we created this dedicated website to visualize our\n        ideas. I think we speak for many operators in the tourism field which\n        face the same bottlenecks and issues when creating and maintaining new\n        products on the Viator supplier website. Due to the more intense\n        competition from other OTAs such as GetYourGuide, Expedia, Klook etc,\n        there is a huge need to optimize the product UI appearance on Viator and\n        Tripadvisor website to have an outstanding experience.\n      </p>\n      <p>\n        The current Viator strategy to move from an open market place to a more\n        closed and controlled platform is the right decision. We totally agree\n        that someone of your team reviews the content of a product after it has\n        been submitted. We further think you should allow the supplier to be\n        more flexible in writing descriptions about the prodct as now everything\n        is double-checked to maintain high quality standards.\n      </p>\n\n      <hr class=\"new\" />\n\n      <div class=\"title\">Product Type</div>\n      The fixed and strict categorization of products into different types (like\n      tours, activities, transfers) is not very flexible. For many of our\n      products we cannot clearly assign a product type, sometimes it is both a\n      tour and activity. A much more flexible approach would be to allow to\n      label the product with one or more themes like \"kaying, island tour,\n      caving, museum, etc.\" like Airbnb does for its experiences. This would be\n      much easier to understand for the supplier and feels more natural than\n      being forced to choose 1 product type.\n      <div class=\"suggestion\">\n        Allow labeling of products\n        <span\n          style=\"font-weight: bold; margin-left: 6px\"\n          class=\"icon icon-lightbulb\" />\n      </div>\n\n      <hr class=\"new\" />\n\n      <div class=\"title\">Long Description</div>\n      For an activity it is possible to add a long description of the product.\n      We think that should be possible for all products independent of their\n      type. As the Viator team will from now on review every change we make to\n      the product content, we would like to add more detailed information about\n      a product which does not fit into the summary 'What makes this tour\n      unique?', itinerary or anywhere else. Currently we feel that the content\n      of our products cannot be fully presented to the user and thus leaves a\n      bad aftertaste.\n      <div class=\"suggestion\">\n        Allow long description for all products\n        <span class=\"icon icon-lightbulb\" />\n      </div>\n\n      <hr class=\"new\" />\n\n      <div class=\"title\">Limited Text Length</div>\n      For many fields like activity description, option names, product option\n      details etc., the maximal text length is very limited. We often have to\n      shorten the text and cannot express the full colourfulness of our\n      experiences.\n      <div class=\"suggestion\">\n        Increase the text length limit\n        <span class=\"icon icon-lightbulb\" />\n      </div>\n\n      <hr class=\"new\" />\n\n      <div class=\"title\">Itinerary & Attractions</div>\n      The current UI presentation of the itinerary is very confusing for the\n      user (both in Viator and Tripadvsior) as well as for the supplier during\n      editing. We would like to add flexible itinerary items with a prefix\n      containing a schedule or duration and a title, like the way a standard\n      itinerary is built. It should be possible to link every itinerary item\n      optionally with an attraction/place in Tripadvisor.\n      <Button\n        style=\"margin-top: 20px; font-weight: bold\"\n        fill\n        round\n        href=\"/New-UI/itinerary\"\n        color=\"green\">\n        Show Solution\n        <span class=\"icon icon-solution\" />\n      </Button>\n      <div class=\"suggestion\">\n        Allow to add free itinerary with schedule\n        <span class=\"icon icon-lightbulb\" />\n      </div>\n      <div class=\"suggestion\">\n        Allow to optional link itinerary item with attraction\n        <span class=\"icon icon-lightbulb\" />\n      </div>\n\n      <hr class=\"new\" />\n\n      <div class=\"title\">Hotel pickup</div>\n      The current solution for defining a hotel pickup service for a tour,\n      activity or transfer is not satisfactory. Using a fixed hotel list, or\n      defining an area in Google Maps does not cover all usecases and is a very\n      static and time-dependent approach. We often get bookings where the\n      customer has chosen the option \"Stay with friends/relatives\" because the\n      hotel they stayed was not in the prefilled list, and they just had chosen\n      the first item that came up in the list. You should gvive the user more\n      freedom by using a freely editable text field approach.\n      <br />\n      <br />\n      I think Viator should actively pushing new technologies such as AI/machine\n      learning on their website where it makes sense. One area of application\n      could be the hotel pickup list where the previous data of bookings is used\n      to label hotels which are eligible for pickup. You could also show the\n      pickup times for each hotel to make it even more convenient for the user.\n      This requires that the operator has to give feedback for each booking with\n      exact pickup time so the system can learn over time. The most exact and\n      comprehensive hotel pickup data is always the one you already have in your\n      own hands based on existing bookings.\n      <div class=\"suggestion\">\n        Use freely editable text field for hotels\n        <span class=\"icon icon-lightbulb\" />\n      </div>\n      <div class=\"suggestion\">\n        Use machine learning to show eligible hotels & pickup times\n        <span class=\"icon icon-lightbulb\" />\n      </div>\n\n      <hr class=\"new\" />\n\n      <div class=\"title\">Email address of user</div>\n      Currently it is not possible to reach the customer directly by email, for\n      getting more informations such as hotel room, dietary restrictions or in\n      an emergency. You give us the name of the customer, sometimes even all\n      traveller names, passport number, phone number, but why the email address\n      is not provided by Viator?! Of course it is possible to use the Viator\n      messaging system, but this is not enough for the following reasons.\n      <br />\n      <br />\n      We use an in-house booking system which is highly optimized to handle a\n      large set of bookings each day. We send scheduled messages or messages\n      initiated from the booking tool to customers via email, WhatsApp, LINE\n      etc. Therefore it is required to know the email address or at least to\n      have a designated Viator email address which is bound to a certain\n      booking.\n      <div class=\"suggestion\">\n        Allow to contact customers by email address\n        <span class=\"icon icon-lightbulb\" />\n      </div>\n\n      <hr class=\"new\" />\n\n      <div class=\"title\">Dynamic Pricing</div>\n      The tourism industry is a very volatile business with price fluctuations\n      caused by different tourism seasons, customer demand, unexpected incidents\n      like the Corona crisis etc. We would like to have an easier way to push\n      our price changes faster into the Viator marketplace via API integration,\n      the same way we already do with the product availability.\n      <div class=\"suggestion\">\n        Allow dynamic pricing via supplier API\n        <span class=\"icon icon-lightbulb\" />\n      </div>\n\n      <hr class=\"new\" />\n\n      <div class=\"title\">Product Add-Ons</div>\n      For many products it is possible to buy add-ons for services like pickup\n      from remote hotels, transfer to hotel, National Park entrance fee, renting\n      kayaking equipment etc. The price of these add-ons are often not under\n      direct control of the supplier, but by the government, sub-contractors or\n      others. We would like to give the customers the possibility to buy these\n      add-ons in advance directly on the Viator website but at the same price as\n      if buying local. Therefore we recommend to allow add-ons with a\n      zero-commission approach like other OTAs such as GYG already offer do.\n      <div class=\"suggestion\">\n        Allow add-ons at zero commission\n        <span class=\"icon icon-lightbulb\" />\n      </div>\n\n      <hr class=\"new\" />\n\n      <div class=\"title\">Activity Duration</div>\n      For an activity it is required to set a duration on the product level. We\n      recommend to use the duration of the option if available, or to make the\n      duration field mandatory on the option level.\n      <div class=\"suggestion\">\n        User duration from product options\n        <span class=\"icon icon-lightbulb\" />\n      </div>\n\n      <hr class=\"new\" />\n\n      <div class=\"title\">Company Logo in Ticket</div>\n      When uploading a company logo in the ticket section, the logo disappears\n      after making changes to other fields in the ticket redemption section. The\n      company logo should be uploaded only once and be reused from that point\n      on. It would even make more sense to add a logo on the account level,\n      which will be used by all products.\n      <div class=\"suggestion\">\n        Reuse uploaded company logo\n        <span class=\"icon icon-lightbulb\" />\n      </div>\n    </div>\n\n    <div\n      style=\"color: hsl(181, 64%, 26%); text-align: center; margin-top: 80px;\n      margin-bottom: 80px\">\n      <div class=\"\">\n        Â© Trip Store Krabi Co., Ltd. 2020. All Rights Reserved.\n        <br />\n        <a\n          class=\"link underline external\"\n          href=\"mailto:info@tripstorekrabi.com\">\n          Contact Us\n        </a>\n      </div>\n    </div>\n  </div>\n\n  <Toolbar active=\"/\" />\n</Page>\n"
  ],
  "names": [],
  "mappings": "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"
}